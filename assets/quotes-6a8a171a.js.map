{"version":3,"file":"quotes-6a8a171a.js","sources":["../../src/js/quotes.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://energyflow.b.goit.study/api';\nconst ENDPOINT_QUOTE = 'quote';\n//import { fetchQuoteFromServer } from './services/mainApi';\nimport { saveQuoteToLocalStorage } from './templates/localStorage';\n\nfunction displayQuoteOnPage(quoteData) {\n  const quoteText = document.querySelector('.quote-text');\n  const quoteAuthor = document.querySelector('.quote-author');\n  quoteText.textContent = quoteData.quote;\n  quoteAuthor.textContent = quoteData.author;\n}\nexport async function getQuoteOffTheDay() {\n  const quoteResponse = JSON.parse(localStorage.getItem('quoteResponse'));\n  const savedDate = JSON.parse(localStorage.getItem('savedDate'));\n  try {\n    let quoteData;\n    if (savedDate && quoteResponse) {\n      const currentDate = new Date();\n      if (\n        currentDate.getFullYear() === savedDate.year &&\n        currentDate.getMonth() + 1 === savedDate.month &&\n        currentDate.getDate() === savedDate.day\n      ) {\n        // Використовуємо збережену цитату з локального сховища\n        quoteData = quoteResponse;\n      } else {\n        // Отримуємо нову цитату з сервера\n        quoteData = await fetchQuoteFromServer();\n        saveQuoteToLocalStorage(quoteData);\n      }\n    } else {\n      // Отримуємо нову цитату з сервера\n      quoteData = await fetchQuoteFromServer();\n      saveQuoteToLocalStorage(quoteData);\n    }\n    // Відображаємо цитату на сторінці\n    displayQuoteOnPage(quoteData);\n  } catch (error) {\n    console.log(error);\n  }\n}\ngetQuoteOffTheDay();\n\nasync function fetchQuoteFromServer() {\n  try {\n    const response = await axios.get(`${BASE_URL}/${ENDPOINT_QUOTE}`);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n}\n\n"],"names":["BASE_URL","ENDPOINT_QUOTE","displayQuoteOnPage","quoteData","quoteText","quoteAuthor","getQuoteOffTheDay","quoteResponse","savedDate","currentDate","fetchQuoteFromServer","saveQuoteToLocalStorage","error","axios"],"mappings":"8GACA,MAAMA,EAAW,sCACXC,EAAiB,QAIvB,SAASC,EAAmBC,EAAW,CACrC,MAAMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,eAAe,EAC1DD,EAAU,YAAcD,EAAU,MAClCE,EAAY,YAAcF,EAAU,MACtC,CACO,eAAeG,GAAoB,CACxC,MAAMC,EAAgB,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,EAChEC,EAAY,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,EAC9D,GAAI,CACF,IAAIL,EACJ,GAAIK,GAAaD,EAAe,CAC9B,MAAME,EAAc,IAAI,KAEtBA,EAAY,gBAAkBD,EAAU,MACxCC,EAAY,SAAQ,EAAK,IAAMD,EAAU,OACzCC,EAAY,YAAcD,EAAU,IAGpCL,EAAYI,GAGZJ,EAAY,MAAMO,IAClBC,EAAwBR,CAAS,EAEzC,MAEMA,EAAY,MAAMO,IAClBC,EAAwBR,CAAS,EAGnCD,EAAmBC,CAAS,CAC7B,OAAQS,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CACAN,IAEA,eAAeI,GAAuB,CACpC,GAAI,CAEF,OADiB,MAAMG,EAAM,IAAI,GAAGb,CAAQ,IAAIC,CAAc,EAAE,GAChD,IACjB,OAAQW,EAAO,CACd,cAAQ,IAAIA,CAAK,EACXA,CACP,CACH"}