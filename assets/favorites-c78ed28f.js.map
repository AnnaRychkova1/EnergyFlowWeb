{"version":3,"file":"favorites-c78ed28f.js","sources":["../../src/js/favorites.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getQuoteOffTheDay } from \"./quotes\";\n\n// async function getFavorites(resFavorites) { \n//     const BASE_URL_FAVORITES = 'https://energyflow.b.goit.study/api';\n//     const ENDPOINT_FAVORITES = 'exercises';\n//     const resFavorites = await axios.get(`${BASE_URL_FAVORITES}/${ENDPOINT_FAVORITES}`, {\n//         params: {\n//         name: [],\n//             page: 1,\n//             perPage: 9,\n//       },\n//     });\n//     return resFavorites.data;\n// }\n\nconst favoritesGallery = document.querySelector(\".favorites-gallery\");\nconst favoritesMessage = document.querySelector(\".favorites-box-block\");\n\n// const addToFavorites = document.querySelector(\".modal-btn\");\nconst onRemoveBtn = document.querySelector(\".favorites-remove-btn\");\nconst onStartBtn = document.querySelector(\".favorites-start-btn\");\n// const onFavoritesBtn = document.querySelector(\".favorites-btn\");\n\nconst queryParams = {\n  name: '',\n  page: 1,\n  perPage: 9,  \n};\naddToFavorites.addEventListener(\"click\", addToFavorites);\nonFavoritesBtn.addEventListener(\"click\", showFavorites);\nonStartBtn.addEventListener(\"click\", showModal);\nonRemoveBtn.addEventListener(\"click\", removeItemFromFavorites);\n\n//Add to Favorites after click on button 'Add to Favotites' at Modal\nfunction addToFavorites(event) {\n  event.preventDefault();\n  \n  // getFavorites(); \n\n  queryParams.name = event.currentTarget.elements.name.value();\n  localStorage.setItem(LS_KEY_FAVORITES, JSON.stringify(queryParams.name));\n }\n\n// Show Favorites after choosing 'Favorites' at Header\nasync function showFavorites(event) {\n  event.preventDefault();\n  queryParams.page = 1;\n\n  const LS_KEY_FAVORITES = \"Array of Favorites\";\n  const names = event.currentTarget.elements.name.value();\n    \n  if (!names) {\n    showMessage();\n    return;\n  }\n\n  function showMessage() {\n    favoritesMessage.style.display = 'block';\n  }\n\n  try {\n    const itemsFromLS = await JSON.parse(localStorage.getItem(LS_KEY_FAVORITES));\n    createMarkupFavorites(results, favoritesGallery);\n    favoritesGallery.insertAdjacentHTML('afterbegin', createMarkup(results, itemsFromLS));\n                \n    if (results >= 9) {\n      scrollBy();\n    } else {\n      return;           \n    }\n  } catch (error) {\n    createMessage(\"Sorry, there is a problem with connection with the server\");\n    \n  } finally {\n    console.log();\n  }\n}\n\n//  Show modal with favorite item after click on 'Start' \nfunction showModal(event) {\n//Have a look at  modal-section\n}\n\n\n//Remove from Favorites after click on basket-button at Favorites\nasync function removeItemFromFavorites(event) {\n  event.preventDefault();\n  \n  try {\n    localStorage.removeItem(LS_KEY_FAVORITES);\n    showFavorites();\n\n  } catch (error) {\n    createMessage(\"Sorry, there is a problem with connection with the server\");\n    \n  } finally {\n    console.log();\n  }\n  favoritesGallery.reset();\n}\n\nfunction createMarkupFavorites(results) {\n  return results\n    .map(\n      ({\n        bodyPart,\n        name,\n        target,\n        burnedCalories,\n        time,\n      }) =>\n        `\n          <ul class=\"favorites-gallery\">\n            <li class=\"favorites-gallery-item\">\n                <span class=\"workout\">workout</span>\n                <a class=\"favorites-remove\" href=\"#\">\n                  <button class=\"favorites-remove-btn\" type=\"button\"> \n                    <img class=\"favorites-remove-icon\" src=\"../img/icons/all icons/basket.svg\" alt=\"remove-icon\"/>\n                  </button>\n                </a>\n                <a class=\"favorites-start\" href=\"#\">\n                  <button class=\"favorites-start-btn\" type=\"button\">Start \n                    <img class=\"favorites-start-icon\" src=\"../img/icons/all icons/line.svg\" alt=\"start-icon\"/>\n                  </button>\n                </a>\n                <img class=\"favorites-man-icon\" src=\"../img/icons/all icons/Man.svg\" alt=\"man-icon\"/>\n                <h3 class=\"favorites-item-title\">${name}</h3>\n                <ul class=\"favorites-gallery-info\">\n                  <li class=\"favorites-gallery-info-item\">Burned calories: <span class=\"descr-span\">${burnedCalories} / ${time} min</span></li>\n                  <li class=\"favorites-gallery-info-item\">Body part: <span class=\"descr-span\">${bodyPart}</span></li>\n                  <li class=\"favorites-gallery-info-item\">Target: <span class=\"descr-span\">${target}</span></li>\n                </ul> \n            </li>\n          </ul>`\n    )\n    .join('');\n}\n  \nfunction createMessage(message) {\n    iziToast.show({\n      class: 'error-svg',\n      position: 'topRight',\n      icon: 'error-svg',\n      message: message,\n      maxWidth: '432',\n      messageColor: '#fff',\n      messageSize: '16px',\n      backgroundColor: '#4e75ff',\n      close: false,\n      closeOnClick: true,\n      fontfamily: 'Montserrat', \n      fontsize: '16px',\n    });\n}\n\n function scrollBy() {\n   window.scrollBy({\n     top:\n       2 *\n       document.querySelector('.favorites-gallery-item').getBoundingClientRect().height,\n     behavior: 'smooth',\n   });\n }\n  \n\n\n"],"names":["favoritesGallery","favoritesMessage","onRemoveBtn","onStartBtn","queryParams","addToFavorites","showFavorites","showModal","removeItemFromFavorites","event","LS_KEY_FAVORITES","showMessage","itemsFromLS","createMarkupFavorites","scrollBy","createMessage","results","bodyPart","name","target","burnedCalories","time","message","iziToast"],"mappings":"kKAkBA,MAAMA,EAAmB,SAAS,cAAc,oBAAoB,EAC9DC,EAAmB,SAAS,cAAc,sBAAsB,EAGhEC,EAAc,SAAS,cAAc,uBAAuB,EAC5DC,EAAa,SAAS,cAAc,sBAAsB,EAG1DC,EAAc,CAClB,KAAM,GACN,KAAM,EACN,QAAS,CACX,EACAC,EAAe,iBAAiB,QAASA,CAAc,EACvD,eAAe,iBAAiB,QAASC,CAAa,EACtDH,EAAW,iBAAiB,QAASI,CAAS,EAC9CL,EAAY,iBAAiB,QAASM,CAAuB,EAG7D,SAASH,EAAeI,EAAO,CAC7BA,EAAM,eAAc,EAIpBL,EAAY,KAAOK,EAAM,cAAc,SAAS,KAAK,QACrD,aAAa,QAAQ,iBAAkB,KAAK,UAAUL,EAAY,IAAI,CAAC,CACvE,CAGF,eAAeE,EAAcG,EAAO,CAClCA,EAAM,eAAc,EACpBL,EAAY,KAAO,EAEnB,MAAMM,EAAmB,qBAGzB,GAAI,CAFUD,EAAM,cAAc,SAAS,KAAK,QAEpC,CACVE,IACA,MACD,CAED,SAASA,GAAc,CACrBV,EAAiB,MAAM,QAAU,OAClC,CAED,GAAI,CACF,MAAMW,EAAc,MAAM,KAAK,MAAM,aAAa,QAAQF,CAAgB,CAAC,EAI3E,GAHAG,EAAsB,QAASb,CAAgB,EAC/CA,EAAiB,mBAAmB,aAAc,aAAa,QAASY,CAAW,CAAC,EAEhF,SAAW,EACbE,QAEA,OAEH,MAAe,CACdC,EAAc,2DAA2D,CAE7E,QAAY,CACR,QAAQ,IAAG,CACZ,CACH,CAGA,SAASR,EAAUE,EAAO,CAE1B,CAIA,eAAeD,EAAwBC,EAAO,CAC5CA,EAAM,eAAc,EAEpB,GAAI,CACF,aAAa,WAAW,gBAAgB,EACxCH,GAED,MAAe,CACdS,EAAc,2DAA2D,CAE7E,QAAY,CACR,QAAQ,IAAG,CACZ,CACDf,EAAiB,MAAK,CACxB,CAEA,SAASa,EAAsBG,EAAS,CACtC,OAAOA,EACJ,IACC,CAAC,CACC,SAAAC,EACA,KAAAC,EACA,OAAAC,EACA,eAAAC,EACA,KAAAC,CACD,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAe2CH,CAAI;AAAA;AAAA,sGAE+CE,CAAc,MAAMC,CAAI;AAAA,gGAC9BJ,CAAQ;AAAA,6FACXE,CAAM;AAAA;AAAA;AAAA,gBAI9F,EACA,KAAK,EAAE,CACZ,CAEA,SAASJ,EAAcO,EAAS,CAC5BC,EAAS,KAAK,CACZ,MAAO,YACP,SAAU,WACV,KAAM,YACN,QAASD,EACT,SAAU,MACV,aAAc,OACd,YAAa,OACb,gBAAiB,UACjB,MAAO,GACP,aAAc,GACd,WAAY,aACZ,SAAU,MAChB,CAAK,CACL,CAEC,SAASR,GAAW,CAClB,OAAO,SAAS,CACd,IACE,EACA,SAAS,cAAc,yBAAyB,EAAE,sBAAuB,EAAC,OAC5E,SAAU,QACf,CAAI,CACJ"}