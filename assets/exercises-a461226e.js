import{a as y}from"./vendor-8cce9181.js";import{refs as e}from"./refs-83aa709d.js";import{o as L,p as E,r as M}from"./exercises-details-f93de79d.js";import{showLoader as c,hideLoader as r,show as u,hide as n}from"./visibility-9f0213da.js";import{scrollTo as v}from"./scrollTo-6516673a.js";import"./modal-menu-45995f81.js";const b="https://energyflow.b.goit.study/api";let d="Muscles",l=1,o=0,h=window.innerWidth,g,p;const B={filter:d,page:l,limit:o};h<1440?o=8:o=12;e.exercisesBtnEl&&e.exercisesBtnEl.addEventListener("click",P);e.exercisesGalleryEl&&e.exercisesGalleryEl.addEventListener("click",H);e.paginationEl&&e.paginationEl.addEventListener("click",L(f,m,B,e.exercisesGalleryEl,"first-pagination"));T();async function T(){e.paginationEl&&(e.paginationEl.classList.add("first-pagination"),e.paginationEl.classList.remove("second-pagination"));try{c(e.loaderModal);const{results:i,totalPages:t}=await m(l);t>1&&e.paginationEl&&(e.paginationEl.innerHTML=E(l,t)),i&&i.length>0?(f(i),r(e.loaderModal)):console.error("No results found for this filter")}catch(i){console.log("Error fetching images:",i),r(e.loaderModal)}}async function P(i){i.preventDefault();const t=i.target.dataset.filter;if(d=t,c(e.loaderModal),i.target===i.currentTarget){r(e.loaderModal);return}u(e.exercisesGalleryEl),n(e.subexercisesFilteredCards),n(e.subexercisesSearchForm),n(e.exercisesTitleSpan),n(e.subexercisesTextNoFound),e.exercisesGalleryEl.innerHTML="",e.exercisesSubtitle.innerHTML="",e.paginationEl.innerHTML="",e.subexercisesFilteredCards.innerHTML="",e.paginationEl.classList.add("first-pagination"),e.paginationEl.classList.remove("second-pagination");try{t==="Body parts"&&(e.bodyPartsBtnEl.classList.add("btn-item-active"),e.musclesBtnEl.classList.remove("btn-item-active"),e.equipmentBtnEl.classList.remove("btn-item-active")),t==="Equipment"&&(e.equipmentBtnEl.classList.add("btn-item-active"),e.musclesBtnEl.classList.remove("btn-item-active"),e.bodyPartsBtnEl.classList.remove("btn-item-active")),t==="Muscles"&&(e.musclesBtnEl.classList.add("btn-item-active"),e.equipmentBtnEl.classList.remove("btn-item-active"),e.bodyPartsBtnEl.classList.remove("btn-item-active"));const{results:s,totalPages:a}=await m(l);a>1&&(e.paginationEl.innerHTML=E(l,a)),s&&s.length>0?(f(s),r(e.loaderModal)):console.error("No results found for this filter"),v(e.exercisesContainerEl)}catch(s){console.log(s),r(e.loaderModal)}}async function m(i){c(e.loaderModal);try{const t=await y.get(`${b}/filters`,{params:{filter:d,page:i,limit:o}});return r(e.loaderModal),t.data}catch(t){console.log(t),r(e.loaderModal)}}function f(i){const t=i.map(({name:s,filter:a,imgUrl:x})=>`<li class="exercises-gallery-item" data-filter>
        <img class="exercises-gallery-img" src="${x}" alt="${a}">
        <div class="exercises-gallery-text">
          <h3 class="exercises-gallery-title">${s}</h3>
          <p class="exercises-gallery-filter">${a}</p>
        </div>
        </li>`).join("");e.exercisesGalleryEl&&e.exercisesGalleryEl.insertAdjacentHTML("beforeend",t),r(e.loaderModal)}function H(i){const t=i.target.closest(".exercises-gallery-item");if(t){const s=t.querySelector(".exercises-gallery-title").textContent,a=t.querySelector(".exercises-gallery-filter").textContent;p=s,g=a}u(e.exercisesTitleSpan),e.exercisesGalleryEl.innerHTML="",e.paginationEl.innerHTML="",r(e.loaderModal),M(g,p)}
//# sourceMappingURL=exercises-a461226e.js.map
