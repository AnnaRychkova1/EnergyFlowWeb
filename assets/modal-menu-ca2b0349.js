import{a as m}from"./vendor-8cce9181.js";document.querySelector(".results");const a=document.querySelector(".backdrop"),r=document.querySelector(".modal");document.querySelector(".ex-add-favorite");const u=document.querySelector(".ex-add-favorite");u.addEventListener("click",v);const f=document.querySelector(".modal-close-btn");f.addEventListener("click",L);a.addEventListener("click",i);document.addEventListener("keydown",d);async function v(e){const t=e.target.closest(".ex-add-favorite");if(!t)return;const s=t.dataset.id,n=JSON.parse(localStorage.getItem("favorites"))||[];if(n.some(o=>o._id===s)){const o=n.filter(l=>l._id!==s);localStorage.setItem("favorites",JSON.stringify(o)),t.classList.remove("is-favorite"),t.innerHTML=changingButtonName("add")}else{const o=await y(s);localStorage.setItem("favorites",JSON.stringify([...n,o])),t.classList.add("is-favorite"),t.innerHTML=changingButtonName("remove")}}function L(){r.classList.add("is-hidden"),a.classList.add("is-hidden"),r.innerHTML="",document.removeEventListener("keydown",d),a.removeEventListener("click",i)}function i(e){e.target.closest(".modal")||(r.classList.add("is-hidden"),a.classList.add("is-hidden"),r.innerHTML="",document.removeEventListener("keydown",d),a.removeEventListener("click",i))}function d(e){e.preventDefault(),e.key==="Escape"&&(r.classList.add("is-hidden"),a.classList.add("is-hidden"),r.innerHTML="",document.removeEventListener("keydown",d),a.removeEventListener("click",i))}async function y(e){try{const t="https://energyflow.b.goit.study/api",s="exercises",{data:n}=await m.get(`${t}/${s}/${e}`);return n}catch(t){console.error(t)}}const p="#EEA10C",S="#E8E8E8",E=document.querySelectorAll(".ex-rate-icon");E.forEach((e,t)=>{const s=Number(e.getAttribute("data-rating")),c=(g(s).match(/&#9733;/g)||[]).length;t<c?e.style.fill=p:e.style.fill=S});function g(e){const t='<span class="star">&#9733;</span>',s='<span class="star">&#9734;</span>',n=t.repeat(Math.floor(e)),c=e%1!==0?'<span class="star">&#9733;</span>':"",o=s.repeat(5-Math.ceil(e));return n+c+o}export{y as getCardInfo};
//# sourceMappingURL=modal-menu-ca2b0349.js.map
