import{a as E}from"./vendor-8cce9181.js";import{refs as e}from"./refs-00d5446d.js";import{renderExerciseByFilterName as L}from"./exercises-details-181d1aff.js";import{showLoader as i,hideLoader as a,hide as n,show as h}from"./visibility-9f0213da.js";import{scrollTo as y}from"./scrollTo-6516673a.js";import"./modal-menu-14c575fc.js";const T="https://energyflow.b.goit.study/api";let c="Muscles",g=1,d=0,b=window.innerWidth,x,p;const u={filter:c,page:g,limit:d};e.exercisesBtnEl.addEventListener("click",H);e.exercisesGalleryEl.addEventListener("click",w);e.paginationEl.addEventListener("click",P);b<1440?d=8:d=12;async function f(){i(e.loaderModal);try{const t=await E.get(`${T}/filters`,{params:{filter:c,page:g,limit:d}});return a(e.loaderModal),t.data}catch(t){console.log(t),a(e.loaderModal)}}async function B(){try{i(e.loaderModal);const{results:t,page:r,totalPages:l}=await f(u);t&&t.length>0?(m(t),e.paginationEl.innerHTML="",e.paginationEl.innerHTML=M(r,l),a(e.loaderModal)):console.error("No results found for this filter")}catch(t){console.log("Error fetching images:",t),a(e.loaderModal)}}B();async function H(t){t.preventDefault();const r=t.target.dataset.filter;if(c=r,g=1,i(e.loaderModal),t.target===t.currentTarget){a(e.loaderModal);return}n(e.subexercisesFilteredCards),n(e.subexercisesSearchForm),n(e.exercisesTitleSpan),n(e.subexercisesTextNoFound),e.exercisesGalleryEl.innerHTML="",e.exercisesSubtitle.innerHTML="",e.subexercisesFilteredCards.innerHTML="";try{const{results:l,page:s,totalPages:o}=await f(u);m(l),a(e.loaderModal),r!=="Body parts"&&e.musclesBtnEl.classList.add("btn-item-active"),r!=="Equipment"&&e.musclesBtnEl.classList.add("btn-item-active"),r!=="Muscles"&&e.musclesBtnEl.classList.remove("btn-item-active"),o>1?e.paginationEl.innerHTML=M(s,o):e.paginationEl.innerHTML="",y(e.exercisesContainerEl)}catch(l){console.log(l),a(e.loaderModal)}finally{c=""}}function m(t){const r=t.map(({name:l,filter:s,imgUrl:o})=>`<li class="exercises-gallery-item" data-filter>
        <img class="exercises-gallery-img" src="${o}" alt="${s}">
        <div class="exercises-gallery-text">
          <h3 class="exercises-gallery-title">${l}</h3>
          <p class="exercises-gallery-filter">${s}</p>
        </div>
        </li>`).join("");e.exercisesGalleryEl.insertAdjacentHTML("beforeend",r),a(e.loaderModal)}function M(t,r){let l="";i(e.loaderModal);for(let s=1;s<=r;s++)l+=`<button class="button-pagination" type="button">${s}</button>`,a(e.loaderModal);return l}async function P(t){g=t.target.textContent,e.exercisesGalleryEl.innerHTML="";try{i(e.loaderModal);const{results:r,page:l,totalPages:s}=await f(u);m(r),a(e.loaderModal),y(e.exercisesContainerEl)}catch(r){console.log(r),a(e.loaderModal)}}function w(t){const r=t.target.closest(".exercises-gallery-item");if(r){const l=r.querySelector(".exercises-gallery-title").textContent,s=r.querySelector(".exercises-gallery-filter").textContent;p=l,x=s}h(e.exercisesTitleSpan),e.exercisesGalleryEl.innerHTML="",e.paginationEl.innerHTML="",a(e.loaderModal),u.filter="",L(x,p)}
//# sourceMappingURL=exercises-2b23b71c.js.map
