{"version":3,"file":"footer-cdd66ac6.js","sources":["../../src/js/footer.js"],"sourcesContent":["import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.footer-form');\n\ndocument\n  .querySelector('.footer-form')\n  .addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    const emailInput = document\n      .querySelector('.footer-input')\n      .value.trim()\n      .toLowerCase();\n\n    if (emailInput) {\n      sendSubscriptionRequest(emailInput);\n    } else {\n      iziToast.error({\n        title: 'Error!',\n        message:\n          'Invalid email entered. Please check the format and try again.',\n        position: 'topRight',\n      });\n    }\n  });\n\nasync function sendSubscriptionRequest(email) {\n  const request = await axios\n    .post('https://energyflow.b.goit.study/api/subscription', {\n      email: email,\n    })\n    .then(function (response) {\n      iziToast.success({\n        title: 'Successfully!',\n        message: response.data.message,\n        position: 'topRight',\n      });\n      form.reset();\n    })\n    .catch(function (error) {\n      if (error.response.status === 409) {\n        iziToast.info({\n          title: 'Info!',\n          message: 'Subscription already exists.',\n          position: 'topRight',\n        });\n      } else {\n        iziToast.error({\n          title: 'Error!',\n          message:\n            'An error occured while sending the request. Please try again.',\n          position: 'topRight',\n        });\n      }\n    })\n    .finally(function () {\n      form.reset();\n    });\n}\n"],"names":["form","event","emailInput","sendSubscriptionRequest","iziToast","email","axios","response","error"],"mappings":"gDAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAElD,SACG,cAAc,cAAc,EAC5B,iBAAiB,SAAU,SAAUC,EAAO,CAC3CA,EAAM,eAAc,EAEpB,MAAMC,EAAa,SAChB,cAAc,eAAe,EAC7B,MAAM,KAAM,EACZ,cAECA,EACFC,EAAwBD,CAAU,EAElCE,EAAS,MAAM,CACb,MAAO,SACP,QACE,gEACF,SAAU,UAClB,CAAO,CAEP,CAAG,EAEH,eAAeD,EAAwBE,EAAO,CAC5B,MAAMC,EACnB,KAAK,mDAAoD,CACxD,MAAOD,CACb,CAAK,EACA,KAAK,SAAUE,EAAU,CACxBH,EAAS,QAAQ,CACf,MAAO,gBACP,QAASG,EAAS,KAAK,QACvB,SAAU,UAClB,CAAO,EACDP,EAAK,MAAK,CAChB,CAAK,EACA,MAAM,SAAUQ,EAAO,CAClBA,EAAM,SAAS,SAAW,IAC5BJ,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,+BACT,SAAU,UACpB,CAAS,EAEDA,EAAS,MAAM,CACb,MAAO,SACP,QACE,gEACF,SAAU,UACpB,CAAS,CAET,CAAK,EACA,QAAQ,UAAY,CACnBJ,EAAK,MAAK,CAChB,CAAK,CACL"}